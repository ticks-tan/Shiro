function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./langs-A0TS5btv.js","./index-D-KyWnh9.js","./index-cPkV6bS0.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{r as o,j as i,_ as x}from"./index-D-KyWnh9.js";import{t as k,R as _}from"./request-DcgPSjoy.js";import{u as w}from"./use-is-dark-CvOM7IX_.js";import{s as g}from"./dom-XXNktKeO.js";import{c as j}from"./StyledButton-DJLIYB63.js";import{a as C}from"./Shiki-BA2oEH82.js";const d={},a={};function p(e){return new Promise((t,n)=>{const r=d[e];if(r==="loaded")return t(null);if(r==="loading"){a[e]=a[e]?[...a[e],[t,n]]:[[t,n]];return}const s=document.createElement("script");s.src=e,s.crossOrigin="anonymous",d[e]="loading",s.onload=function(){d[e]="loaded",t(null),a[e]&&(a[e].forEach(([c])=>{c(null)}),delete a[e])},s.onerror=function(c){this.onerror=this.onload=null,delete d[e],a[e].forEach(([,b])=>{b(c)}),delete a[e],n(c)},document.head.appendChild(s)})}const l=new Map;function h(e){if(l.has(e)){const n=l.get(e);return{$link:n,remove:()=>{n.parentNode&&n.parentNode.removeChild(n),l.delete(e)}}}const t=document.createElement("link");return t.href=e,t.rel="stylesheet",t.type="text/css",t.crossOrigin="anonymous",l.set(e,t),t.onerror=()=>{t.onerror=null,l.delete(e)},document.head.appendChild(t),{remove:()=>{t.parentNode&&t.parentNode.removeChild(t),l.delete(e)},$link:t}}const m={"code-wrap":"_code-wrap_1uhyk_1","copy-tip":"_copy-tip_1uhyk_11","language-tip":"_language-tip_1uhyk_49"},f=e=>{const{lang:t,content:n}=e,r=o.useCallback(()=>{navigator.clipboard.writeText(n),k.success("已复制到剪贴板")},[n]),s=o.useRef(null);return y(s),i.jsxs("div",{className:m["code-wrap"],onCopy:g,children:[i.jsx("span",{className:m["language-tip"],"aria-hidden":!0,children:t?.toUpperCase()}),i.jsx("pre",{className:"line-numbers !bg-transparent","data-start":"1",children:i.jsx("code",{className:`language-${t??"markup"} !bg-transparent`,ref:s,children:n})}),i.jsx("div",{className:m["copy-tip"],onClick:r,"aria-hidden":!0,children:"Copy"})]})},E=({content:e,lang:t,className:n,style:r})=>{const s=o.useRef(null);return y(s),o.useEffect(()=>{window.Prism?.highlightElement(s.current)},[e,t]),i.jsx("pre",{onCopy:g,className:j("!bg-transparent",n),style:r,"data-start":"1",children:i.jsx("code",{className:`language-${t??"markup"} !bg-transparent`,ref:s,children:e})})},y=e=>{const t=o.useRef(),n=_(),r=w();o.useInsertionEffect(()=>{const s=h(`https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/prism-themes/1.9.0/prism-one-${n?"light":r?"dark":"light"}.css`);if(t.current){const c=t.current;s.$link.onload=()=>{c.remove()}}t.current=s},[r,n]),o.useInsertionEffect(()=>{h("https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/prism/1.23.0/plugins/line-numbers/prism-line-numbers.min.css"),Promise.all([p("https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/prism/1.23.0/components/prism-core.min.js")]).then(()=>Promise.all([p("https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/prism/1.23.0/plugins/autoloader/prism-autoloader.min.js"),p("https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/prism/1.23.0/plugins/line-numbers/prism-line-numbers.min.js")])).then(()=>{e.current?requestAnimationFrame(()=>{window.Prism?.highlightElement(e.current),requestAnimationFrame(()=>{window.Prism?.highlightElement(e.current)})}):requestAnimationFrame(()=>{requestAnimationFrame(()=>{window.Prism?.highlightAll()})})})},[])};let u=null;const P=e=>{const{lang:t}=e;return o.use(o.useMemo(async()=>{if(!t)return!1;if(!u){const{bundledLanguages:r}=await x(()=>import("./langs-A0TS5btv.js"),__vite__mapDeps([0,1,2]),import.meta.url);u=new Set(Object.keys(r))}return u.has(t)},[t]))?i.jsx(C,{...e}):i.jsx(f,{...e})},A=Object.freeze(Object.defineProperty({__proto__:null,BaseCodeHighlighter:E,HighLighterPrismCdn:f,ShikiFallback:P},Symbol.toStringTag,{value:"Module"}));export{E as B,f as H,h as a,A as i,p as l};
